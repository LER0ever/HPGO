\documentclass[12pt,letterpaper]{article}
\usepackage{fullpage}
\usepackage[top=2cm, bottom=4.5cm, left=2.5cm, right=2.5cm]{geometry}
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{lastpage}
\usepackage{enumerate}
\usepackage{fancyhdr}
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{hyperref}
\usepackage[yyyymmdd]{datetime}

\hypersetup{%
colorlinks=true,
linkcolor=blue,
linkbordercolor={0 0 1}
}

\renewcommand\lstlistingname{Algorithm}
\renewcommand\lstlistlistingname{Algorithms}
\def\lstlistingautorefname{Alg.}

\lstdefinestyle{Python}{
language = Python,
frame = lines,
basicstyle = \footnotesize,
keywordstyle = \color{blue},
stringstyle = \color{green},
commentstyle = \color{red}\ttfamily
}

\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.05in}

\newcommand\doctitle{Hybrid Parallelism Global Orchestration}
\newcommand\ID{\href{https://rongyi.io}{rongyi.io}}


\pagestyle{fancyplain}
\headheight 35pt
\lhead{\ID}
\chead{\textbf{\doctitle}}
\rhead{\today}
\lfoot{DRAFT}
\cfoot{}
\rfoot{\small\thepage}
\headsep 1.5em

\begin{document}

    \section {Notations}
    \subsection {Profiling}
    \begin{itemize}
        \item $L$: the total number of layers
        \item $l$: the \# of a layer, from $1$ to $L$
        \item $T_l$: "the total computation time across the forward and backward passes for layer l on the target GPU"
        \item $a_l$: "the size of the output activations of layer $l$ (and the size of input gradients in the backward pass) in bytes"
        \item $w_l$: "the size of weight parameters for layer $l$ in bytes"
        \item $PBS$: the batch size used in profiling phase
    \end{itemize}
    \subsection {Hyper Parameters}
    \begin{itemize}
        \item $GBS$: the Global Batch Size for training
    \end{itemize}
    \subsection {Environment}
    \begin{itemize}
        \item $M$: number of Workers (GPUs) in total
        \item $m$: the \# of a worker, from $1$ to $M$
        \item $B_{i \rightarrow j}$ Theoretical Bandwidth limit from worker $i$ to worker $j$
        \item $B(i,j,s)$: estimated actual bandwidth from worker $i$ to worker $j$, transferring $s$ bytes of data
    \end{itemize}

    \section* {Evaluation}
    Given an arbitrary partition, we evaluate the performance by number of samples per time unit.

    \subsection* {Data Parallelism}


    \subsection* {Synchronized Pipeline}

    \subsection* {Asynchronized Pipeline}

    \subsection* {Hybrid Parallelism}

    \section* {Algorithm}
    \texttt{\textcolor{blue}{
    LER0ever Internal Ref \\
    \newline
    \begin{tabular}{rl}
        %\texttt{\textcolor{blue}{
        Task ID: & CU\#2672zg \\
        CUT Link: & ry.sb/cut/2672zg \\
        Notion: & ry.sb/n/by-f4bcf0106acc40d88e62a2e7673b229f \\
        Draft: & internal.ry.sb/HPGO
        %}}
    \end{tabular}
    }}
    \section* {Proof of Correctness}

    \section* {Complexity Analysis}

    \subsection* {First attempt:
    $O(|B|^2M^2N^4)$}
    \subsection* {Second attempt:
    $\Theta(M!M^2N^4|B|^2)$}

    PipeDream: $\sum_{k=1}^L O(N^3m_k6^2)$

\end{document}